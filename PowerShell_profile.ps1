Push-Location $env:ConEmuDir\..\..; $pentestbox_ROOT = (Get-Location).Path; Pop-Location
$PROFILE = "$pentestbox_ROOT\config\PowerShell_profile.ps1"
$CUSTOMPROFILE = "$pentestbox_ROOT\bin\customtools\customPowerShell_profile.ps1"

function .. { cd .. }
function cd~ { cd $env:USERPROFILE }
function cdc { cd $pentestbox_ROOT\config }
function cds { cd $pentestbox_ROOT\bin\scripts }
function e. { explorer . }
function gst { git status }
function vi { & "$pentestbox_ROOT\bin\vim\vim.exe" -u "$pentestbox_ROOT\config\_vimrc" $args }
function vim { & "$pentestbox_ROOT\bin\vim\vim.exe" -u "$pentestbox_ROOT\config\_vimrc" $args }
function readme { & "$pentestbox_ROOT\bin\scripts\readme.bat" }

Set-PSReadlineKeyHandler -Chord ctrl+d -Function ViExit
Set-PSReadlineKeyHandler -Chord ctrl+w -Function BackwardDeleteWord
Set-PSReadlineKeyHandler -Chord ctrl+a -Function BeginningOfLine
Set-PSReadlineKeyHandler -Chord ctrl+e -Function EndOfLine
Set-PSReadlineKeyHandler -Chord ctrl+p -Function PreviousHistory
Set-PSReadlineKeyHandler -Chord ctrl+n -Function NextHistory
Set-PSReadlineKeyHandler -Chord ctrl+f -Function ForwardChar
Set-PSReadlineKeyHandler -Chord ctrl+b -Function BackwardChar
Set-PSReadlineKeyHandler -Chord ctrl+u -Function RevertLine

function prompt { Write-Host "PS" -ForegroundColor Blue (Get-Location); "> " }
Write-Host

if (Test-Path $CUSTOMPROFILE) { . $CUSTOMPROFILE }
